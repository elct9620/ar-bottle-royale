<%= render 'aframe/weapon' %>
<%= render 'aframe/armor' %>
<%= render 'aframe/player' %>
<a-scene
  style="position: relative; z-index: 99"
  vr-mode-ui="enabled: false;"
  renderer="logarithmicDepthBuffer: true;"
  embedded
  arjs="trackingMethod: best; sourceType: webcam;debugUIEnabled: false;"
  loading-screen
  enemy-position
  >

  <a-assets>
    <!-- Image -->
    <img id="combat" src="/models/combat_impact.png"></img>
    <!-- Model -->
    <a-asset-item id="ggj_prp_wep_001" src="/models/weapon/ggj_prp_wep_001.gltf"></a-asset-item>
    <a-asset-item id="ggj_prp_wep_002" src="/models/weapon/ggj_prp_wep_002.gltf"></a-asset-item>
    <a-asset-item id="ggj_prp_wep_003" src="/models/weapon/ggj_prp_wep_003.gltf"></a-asset-item>
    <a-asset-item id="ggj_prp_armor_001" src="/models/armor/ggj_prp_armor_001.gltf"></a-asset-item>
    <a-asset-item id="ggj_prp_armor_002" src="/models/armor/ggj_prp_armor_002.gltf"></a-asset-item>
    <a-asset-item id="ggj_prp_armor_003" src="/models/armor/ggj_prp_armor_003.gltf"></a-asset-item>
    <a-asset-item id="char001" src="/models/other/ggj_prp_char_001.gltf"></a-asset-item>
    <!-- Audio -->
    <audio id="theme001" src="/sounds/theme_001.mp3"></audio>
    <audio id="theme002" src="/sounds/theme_002.mp3"></audio>
    <audio id="sword_swash_004" src="/sounds/sfx/sword_swash_004.mp3"></audio>
    <audio id="hurt_004" src="/sounds/sfx/hurt_004.mp3"></audio>
    <audio id="hurt_005" src="/sounds/sfx/hurt_005.mp3"></audio>
    <audio id="picking_backpack_002" src="/sounds/sfx/picking_backpack_002.mp3"></audio>
  </a-assets>

  <!-- Environment -->
  <a-light type="ambient" color="#FFFFFF"></a-light>
  <a-sound id="envSound" autoplay="true" loop="true" src="#theme001" volume="0.5"></a-sound>
  <a-sound id="sfx" poolSize="4"></a-sound>

  <a-camera look-controls>
    <!-- other player -->
    <a-player visible="false">
      <a-image id="combatVFX" visible="false" src="#combat" scale="5 5 1" position="0 10 5"></a-image>
    </a-player>

  </a-camera>
</a-scene>

<div id="app"></div>
